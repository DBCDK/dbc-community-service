language: node_js
sudo: false
dist: trusty
cache:
  bundler: true
  directories:
  - node_modules
branches:
  only:
  - master
before_install:
- npm config set //registry.npmjs.org/:_authToken $NPM_KEY
services:
  - redis-server
script:
- npm run lint
- npm test
notifications:
  slack:
    secure: musfOgMCnmVi7oCvesN7/haZtcIVoyab9xT/jYXzMCBg4bMTgBeNZuDouQoyQG+Bml3dopdgQkh3C/9zyRr3uycGNMB5AYiiCPrNbb+P9b4SPQSsiv6AQ7hO6qcuszEAbKarv7Rx2rexAbPFsttajBj15Zoi8TC8+SlDHrVl9KhhKSwEIH9zR/RWJCJ5WIz/opV3EEIjcFnc7vlFpDJCnXXvYvE21xQWMqXxDG1aKDQyamEkZCRo0z4UJairrfmWPs5sah0p6qnBRpjfH2J3dc+7ZT8fwmOJjQhF0hX3fnnUzBt2mmUliu6SFqCFb0uarmeIOlX2NoJDN0XQ9MsTvwVbLXIiW1/Qu+yNK2Ho4yKzQ/2gM2gzqeGqe6eBRaFCbWhdbhJ1qiW4Nq1WEKwIzsPudUE6JnaWBn8vILkMae0AXDn2eblgZhlKquzOUdQ51nt8nM2glHJGisEtqREllEsIzYdF+od+tdIVIKyxcvGQle6AqWZd5v3jZUD8CC6vyay8cLxv86r3c4hjB2oTjG0WmNrQCWOpAJHofNGZ+SUfuetPX07kCit628HSQvBU6h+KX4qZS0q3z3OLjvQm1EXWgFPOfReY7VaH230eTSXtM2QuvWaNwbMRl2qlqnXg8QC59vRk2A3p+qfYTDuEZNocH/SaOBdZzJLislRb6Uc=
